{{ define "main" }}

  <article id="content" class="Project h-entry">
  
      <header class="Hero flow">
        <h1 class="p-name">{{ .Title }}</h1>
        <p>{{ .Params.Description | markdownify }}</p>
        <div class="flex">
          <time class="dt-published" datetime="{{ .Date }}">{{ .Date.Format "Jan 2 2006" }}</time>
          {{ $topics := .Params.topics }}
          {{- with $topics -}}
            <span>â€”</span>
            <div class="Tag">
              {{ range $topics }}
                <a href="/topics/{{ . | urlize }}" class="p-category">{{ . }}</a>
              {{ end }}
            </div>
          {{- end -}}
      </div>
      </header>
      <div class="Blocks e-content">
        {{- range .Params.blocks -}}
            {{- if eq .template "hero" -}}{{ partial "blocks/hero" (dict "Params" . "baseURL" $.Site.Params.cloudinary_url ) }}{{- end -}}
            {{- if eq .template "image-full" -}}{{ partial "blocks/img-full" (dict "Params" . "baseURL" $.Site.Params.cloudinary_url ) }}{{- end -}}
            {{- if eq .template "body-copy" -}}{{ partial "blocks/content" (dict "Params" .) }}{{- end -}}
            {{- if eq .template "image-grid-two" -}}{{ partial "blocks/img-grid-two" (dict "Params" . "baseURL" $.Site.Params.cloudinary_url) }}{{- end -}}
            {{- if eq .template "image-grid-four" -}}{{ partial "blocks/img-grid-four" (dict "Params" . "baseURL" $.Site.Params.cloudinary_url) }}{{- end -}} 
            {{- if eq .template "quote" -}}{{ partial "blocks/quote" (dict "Params" . "baseURL" $.Site.Params.cloudinary_url) }}{{- end -}} 
            {{- if eq .template "link-big" -}}{{ partial "blocks/link-big" (dict "Params" .) }}{{- end -}} 
            {{- if eq .template "iframe-full" -}}{{ partial "blocks/iframe-full" (dict "Params" .) }}{{- end -}} 
            {{- if eq .template "iframe-grid-one" -}}{{ partial "blocks/iframe-grid-one" (dict "Params" .) }}{{- end -}} 
            {{- if eq .template "iframe-grid-two" -}}{{ partial "blocks/iframe-grid-two" (dict "Params" .) }}{{- end -}} 
        {{- end -}}
      </div>

  </article>
  
{{ end }}